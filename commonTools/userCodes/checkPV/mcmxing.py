from ROOT import *
import sys, os
gROOT.SetBatch(True)

target = [3.39597497605e-05,
          6.63688402133e-06,
          1.39533611284e-05,
          3.64963078209e-05,
          6.00872171664e-05,
          9.33932578027e-05,
          0.000120591524486,
          0.000128694546198,
          0.000361697233219,
          0.000361796847553,
          0.000702474896113,
          0.00133766053707,
          0.00237817050805,
          0.00389825605651,
          0.00594546732588,
          0.00856825906255,
          0.0116627396044,
          0.0148793350787,
          0.0179897368379,
          0.0208723871946,
          0.0232564170641,
          0.0249826433945,
          0.0262245860346,
          0.0272704617569,
          0.0283301107549,
          0.0294006137386,
          0.0303026836965,
          0.0309692426278,
          0.0308818046328,
          0.0310566806228,
          0.0309692426278,
          0.0310566806228,
          0.0310566806228,
          0.0310566806228,
          0.0307696426944,
          0.0300103336052,
          0.0288355370103,
          0.0273233309106,
          0.0264343533951,
          0.0255453758796,
          0.0235877272306,
          0.0215627588047,
          0.0195825559393,
          0.0177296309658,
          0.0160560731931,
          0.0146022004183,
          0.0134080690078,
          0.0129586991411,
          0.0125093292745,
          0.0124360740539,
          0.0123547104433,
          0.0123953922486,
          0.0124360740539,
          0.0124360740539,
          0.0123547104433,
          0.0124360740539,
          0.0123387597772,
          0.0122414455005,
          0.011705203844,
          0.0108187105305,
          0.00963985508986,
          0.00827210065136,
          0.00683770076341,
          0.00545237697118,
          0.00420456901556,
          0.00367513566191,
          0.00314570230825,
          0.0022917978982,
          0.00163221454973,
          0.00114065309494,
          0.000784838366118,
          0.000533204105387,
          0.000358474034915,
          0.000238881117601,
          0.0001984254989,
          0.000157969880198,
          0.00010375646169,
          6.77366175538e-05,
          4.39850477645e-05,
          2.84298066026e-05,
          1.83041729561e-05,
          1.17473542058e-05,
          7.51982735129e-06,
          6.16160108867e-06,
          4.80337482605e-06,
          3.06235473369e-06,
          1.94863396999e-06,
          1.23726800704e-06,
          7.83538083774e-07,
          4.94602064224e-07,
          3.10989480331e-07,
          1.94628487765e-07,
          1.57888581037e-07,
          1.2114867431e-07,
          7.49518929908e-08,
          4.6060444984e-08,
          2.81008884326e-08,
          1.70121486128e-08,
          1.02159894812e-08]

data = [2.753195e+05,1.062657e+06,2.057562e+06,3.746634e+06,4.163190e+06,
6.006333e+06,6.443466e+06,6.902710e+06,9.562015e+06,2.287720e+07,
4.545767e+07,8.595059e+07,1.356452e+08,1.949200e+08,2.760734e+08,
3.887991e+08,5.400389e+08,7.139919e+08,8.852678e+08,1.043611e+09,
1.182519e+09,1.294530e+09,1.380434e+09,1.447341e+09,1.505058e+09,
1.559133e+09,1.603904e+09,1.630049e+09,1.631767e+09,1.607753e+09,
1.561019e+09,1.496067e+09,1.415774e+09,1.322716e+09,1.221908e+09,
1.120010e+09,1.022438e+09,9.323870e+08,8.523317e+08,7.855621e+08,
7.360034e+08,7.068688e+08,6.993017e+08,7.114854e+08,7.381140e+08,
7.703643e+08,7.967907e+08,8.055415e+08,7.874559e+08,7.384876e+08,
6.613018e+08,5.644334e+08,4.591872e+08,3.566984e+08,2.654222e+08,
1.899829e+08,1.314329e+08,8.832373e+07,5.793958e+07,3.727448e+07,
2.361723e+07,1.479483e+07,9.196578e+06,5.692464e+06,3.520807e+06,
2.183420e+06,1.361983e+06,8.568617e+05,5.447101e+05,3.501833e+05,
2.276085e+05,1.493909e+05,9.883221e+04,6.576125e+04,4.391207e+04,
2.936685e+04,1.963461e+04,1.310494e+04,8.720957e+03,5.780596e+03,
3.813246e+03,2.501609e+03,1.631081e+03,1.056389e+03,6.792802e+02,
4.334695e+02,2.743970e+02,1.722488e+02,1.071892e+02,6.610621e+01,
4.039452e+01,2.445107e+01,1.465841e+01,8.701988e+00,5.114825e+00,
2.976254e+00,1.714310e+00,9.773444e-01,5.514534e-01,3.079221e-01
]


#full
mc = [21320220.0,
742535.0,
1123769.0,
1444273.0,
1297401.0,
1253887.0,
1178940.0,
1018102.0,
1920161.0,
1522434.0,
2105627.0,
3087917.0,
4525168.0,
6235779.0,
8539664.0,
11160550.0,
13898094.0,
16628261.0,
19153012.0,
21537848.0,
23262150.0,
24537802.0,
25284492.0,
25958324.0,
26689908.0,
27570770.0,
28319512.0,
28700846.0,
28590400.0,
28548600.0,
28435444.0,
28664500.0,
28618648.0,
28396356.0,
28070708.0,
27368056.0,
26213188.0,
24935234.0,
24143008.0,
23291594.0,
21596458.0,
19687592.0,
17869680.0,
16175963.0,
14669902.0,
13422932.0,
12314907.0,
12022251.0,
11693093.0,
11501630.0,
11735313.0,
11721200.0,
11701044.0,
11795881.0,
11675253.0,
11834519.0,
11685694.0,
11488163.0,
10970169.0,
10148069.0,
9064380.0,
7800470.0,
6446839.0,
5312480.0,
4205698.0,
3521546.0,
3082212.0,
2257251.0,
1630300.0,
1146187.0,
859123.0,
707456.0,
476787.0,
352541.0,
346706.0,
280248.0,
262448.0,
190593.0,
231148.0,
354051.0,
478409.0,
336522.0,
214712.0,
346186.0,
199314.0,
210755.0,
157342.0,
237298.0,
214553.0,
141955.0,
59030.0,
34283.0,
12013.0,
28513.0,
56463.0,
144731.0,
16166.0,
12244.0,
34586.0,
]

"""
#ttbar
mc = [1787402.0,
64110.0,
88797.0,
120911.0,
108152.0,
95266.0,
96636.0,
75096.0,
136761.0,
109488.0,
147953.0,
207492.0,
303519.0,
415235.0,
554718.0,
721887.0,
895313.0,
1069417.0,
1241926.0,
1395693.0,
1511334.0,
1591508.0,
1636249.0,
1678763.0,
1730302.0,
1784772.0,
1843552.0,
1865062.0,
1850542.0,
1852342.0,
1846241.0,
1860969.0,
1860834.0,
1844448.0,
1819787.0,
1768351.0,
1704628.0,
1618614.0,
1566676.0,
1508896.0,
1399645.0,
1277943.0,
1151361.0,
1045740.0,
952221.0,
868859.0,
800984.0,
789840.0,
760530.0,
743834.0,
758475.0,
760525.0,
765070.0,
768745.0,
762686.0,
773222.0,
759928.0,
747998.0,
712417.0,
658986.0,
588187.0,
505010.0,
419478.0,
343081.0,
280695.0,
230982.0,
199974.0,
148635.0,
105505.0,
71323.0,
51753.0,
59028.0,
31860.0,
22247.0,
20847.0,
21657.0,
12365.0,
11344.0,
17173.0,
17616.0,
32025.0,
22233.0,
14594.0,
20443.0,
20870.0,
15096.0,
5729.0,
13732.0,
15807.0,
3721.0,
1734.0,
1822.0,
349.0,
2020.0,
6439.0,
8095.0,
2636.0,
74.0,
2438.0]
"""
c1 = TCanvas( 'c1', 'c1', 500, 500 )
targetPV = TH1F('TruePV','',99,0,99)
mcPV    = TH1F('mcPV','',99,0,99)
dataPV  = TH1F('dataPV','',99,0,99)
for i in range(1,100):
  targetPV.SetBinContent(i, target[i-1])
  mcPV.SetBinContent(i, mc[i-1])
  dataPV.SetBinContent(i, data[i-1])

l1 = TLegend(0.7,0.7,0.87,0.85)
l1.SetTextSize(0.03)
l1.SetLineColor(0)
l1.SetFillColor(0)
l1.AddEntry(dataPV, 'Data', 'F')
l1.AddEntry(targetPV, 'MC target', 'F')
l1.AddEntry(mcPV, 'MC full', 'F')

dataPV.SetLineColor(8)
targetPV.SetLineColor(2)
dataPV.SetStats(0)
dataPV.DrawNormalized("hist")
targetPV.DrawNormalized("hist same")
mcPV.DrawNormalized("hist same")
dataPV.DrawNormalized("hist same")
l1.Draw("same")
c1.Print('truePVs.pdf')
