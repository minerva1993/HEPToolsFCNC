import os, sys
from ROOT import *
gROOT.SetBatch()

a = [2.753195e+05,1.062657e+06,2.057562e+06,3.746634e+06,4.163190e+06,
6.006333e+06,6.443466e+06,6.902710e+06,9.562015e+06,2.287720e+07,
4.545767e+07,8.595059e+07,1.356452e+08,1.949200e+08,2.760734e+08,
3.887991e+08,5.400389e+08,7.139919e+08,8.852678e+08,1.043611e+09,
1.182519e+09,1.294530e+09,1.380434e+09,1.447341e+09,1.505058e+09,
1.559133e+09,1.603904e+09,1.630049e+09,1.631767e+09,1.607753e+09,
1.561019e+09,1.496067e+09,1.415774e+09,1.322716e+09,1.221908e+09,
1.120010e+09,1.022438e+09,9.323870e+08,8.523317e+08,7.855621e+08,
7.360034e+08,7.068688e+08,6.993017e+08,7.114854e+08,7.381140e+08,
7.703643e+08,7.967907e+08,8.055415e+08,7.874559e+08,7.384876e+08,
6.613018e+08,5.644334e+08,4.591872e+08,3.566984e+08,2.654222e+08,
1.899829e+08,1.314329e+08,8.832373e+07,5.793958e+07,3.727448e+07,
2.361723e+07,1.479483e+07,9.196578e+06,5.692464e+06,3.520807e+06,
2.183420e+06,1.361983e+06,8.568617e+05,5.447101e+05,3.501833e+05,
2.276085e+05,1.493909e+05,9.883221e+04,6.576125e+04,4.391207e+04,
2.936685e+04,1.963461e+04,1.310494e+04,8.720957e+03,5.780596e+03,
3.813246e+03,2.501609e+03,1.631081e+03,1.056389e+03,6.792802e+02,
4.334695e+02,2.743970e+02,1.722488e+02,1.071892e+02,6.610621e+01,
4.039452e+01,2.445107e+01,1.465841e+01,8.701988e+00,5.114825e+00,
2.976254e+00,1.714310e+00,9.773444e-01,5.514534e-01,3.079221e-01]

print len(a)
sum = sum(a)
low = 0
high = 0
for i in xrange(len(a)):
  if i < 10: low += a[i]
  if i > 75: high += a[i]

print "fraction of <10 and >75 in data", low/sum, high/sum

w3jet = [425827.0, 15709.0, 28270.0, 29928.0, 24665.0, 
23071.0, 24547.0, 20768.0, 43473.0, 26596.0, 
43519.0, 66713.0, 97147.0, 129835.0, 176761.0, 
221585.0, 276377.0, 336067.0, 383403.0, 428203.0, 
466727.0, 484517.0, 497594.0, 515734.0, 524593.0, 
545425.0, 559997.0, 567631.0, 566975.0, 564807.0, 
569689.0, 568169.0, 563904.0, 560499.0, 554656.0, 
538816.0, 516502.0, 492141.0, 476466.0, 457685.0, 
428690.0, 387211.0, 350110.0, 315955.0, 288971.0, 
265295.0, 244716.0, 238515.0, 227983.0, 229537.0, 
230874.0, 230599.0, 233196.0, 233266.0, 227302.0, 
235672.0, 227870.0, 226135.0, 215093.0, 201542.0, 
176984.0, 154782.0, 127261.0, 105842.0, 87685.0, 
71625.0, 58730.0, 45355.0, 31190.0, 20722.0, 
15148.0, 11370.0, 8421.0, 9351.0, 5794.0, 
7167.0, 7589.0, 8927.0, 6586.0, 12223.0, 
9797.0, 6060.0, 5011.0, 8343.0, 5205.0, 
8151.0, 1434.0, 8177.0, 6201.0, 4825.0, 
13.0, 180.0, 303.0, 1378.0, 1965.0, 
3675.0, 1603.0, 70.0, 696.0, 641.0,]

ttzllnunu = [174469.0, 8985.0, 13066.0, 15253.0, 9747.0, 
9693.0, 10450.0, 7772.0, 14332.0, 10749.0, 
18725.0, 27842.0, 37761.0, 49784.0, 66493.0, 
89314.0, 105473.0, 126945.0, 146840.0, 164880.0, 
179721.0, 188470.0, 193193.0, 197200.0, 200977.0, 
207553.0, 217446.0, 216748.0, 216396.0, 214476.0, 
216999.0, 216859.0, 214651.0, 215157.0, 212234.0, 
207656.0, 197198.0, 191202.0, 181118.0, 178715.0, 
162590.0, 146903.0, 134809.0, 121044.0, 109364.0, 
101667.0, 92065.0, 91145.0, 87302.0, 85966.0, 
90109.0, 87601.0, 86619.0, 92573.0, 88086.0, 
90182.0, 88433.0, 86875.0, 81834.0, 80092.0, 
67912.0, 61365.0, 48283.0, 44261.0, 30892.0, 
25753.0, 22071.0, 17879.0, 12166.0, 8070.0, 
5468.0, 5613.0, 3139.0, 2011.0, 2010.0, 
1197.0, 1578.0, 2094.0, 2242.0, 243.0, 
2045.0, 1641.0, 4088.0, 4538.0, 1585.0, 
1002.0, 16.0, 1577.0, 9.0, 2289.0, 
7.0, 1.0, 262.0, 196.0, 283.0, 
1556.0, 9.0, 4.0, 3.0, 211.0,]

mctruth = [3.39597497605e-05, 6.63688402133e-06, 1.39533611284e-05, 3.64963078209e-05, 6.00872171664e-05,
9.33932578027e-05, 0.000120591524486, 0.000128694546198, 0.000361697233219, 0.000361796847553,
0.000702474896113, 0.00133766053707, 0.00237817050805, 0.00389825605651, 0.00594546732588,
0.00856825906255, 0.0116627396044, 0.0148793350787, 0.0179897368379, 0.0208723871946,
0.0232564170641, 0.0249826433945, 0.0262245860346, 0.0272704617569, 0.0283301107549,
0.0294006137386, 0.0303026836965, 0.0309692426278, 0.0308818046328, 0.0310566806228,
0.0309692426278, 0.0310566806228, 0.0310566806228, 0.0310566806228, 0.0307696426944,
0.0300103336052, 0.0288355370103, 0.0273233309106, 0.0264343533951, 0.0255453758796,
0.0235877272306, 0.0215627588047, 0.0195825559393, 0.0177296309658, 0.0160560731931,
0.0146022004183, 0.0134080690078, 0.0129586991411, 0.0125093292745, 0.0124360740539,
0.0123547104433, 0.0123953922486, 0.0124360740539, 0.0124360740539, 0.0123547104433,
0.0124360740539, 0.0123387597772, 0.0122414455005, 0.011705203844, 0.0108187105305,
0.00963985508986, 0.00827210065136, 0.00683770076341, 0.00545237697118, 0.00420456901556,
0.00367513566191, 0.00314570230825, 0.0022917978982, 0.00163221454973, 0.00114065309494,
0.000784838366118, 0.000533204105387, 0.000358474034915, 0.000238881117601, 0.0001984254989,
0.000157969880198, 0.00010375646169, 6.77366175538e-05, 4.39850477645e-05, 2.84298066026e-05,
1.83041729561e-05, 1.17473542058e-05, 7.51982735129e-06, 6.16160108867e-06, 4.80337482605e-06,
3.06235473369e-06, 1.94863396999e-06, 1.23726800704e-06, 7.83538083774e-07, 4.94602064224e-07,
3.10989480331e-07, 1.94628487765e-07, 1.57888581037e-07, 1.2114867431e-07, 7.49518929908e-08,
4.6060444984e-08, 2.81008884326e-08, 1.70121486128e-08, 1.02159894812e-08, 1.02159894812e-08]

c1 = TCanvas( 'c1', 'c1', 500, 500 )
mctruthPV = TH1F('TruePV','',99,0,99)
w3jetPV = TH1F('w3jetPV','',99,0,99)
ttzllPV = TH1F('ttzllPV','',99,0,99)
w3jetPVno = TH1F('w3jetPVno','',99,0,99)
ttzllPVno = TH1F('ttzllPVno','',99,0,99)
for i in range(1,100):
  mctruthPV.SetBinContent(i, mctruth[i-1])
  w3jetPV.SetBinContent(i, w3jet[i-1])
  ttzllPV.SetBinContent(i, ttzllnunu[i-1])
  if i >= 10 and i <= 75:
    w3jetPVno.SetBinContent(i, w3jet[i-1])
    ttzllPVno.SetBinContent(i, ttzllnunu[i-1])

l1 = TLegend(0.55,0.70,0.77,0.87)
l1.SetTextSize(0.03)
l1.SetLineColor(0)
l1.SetFillColor(0)
l1.AddEntry(mctruthPV, 'Target', 'F')
l1.AddEntry(w3jetPV, 'W+3jets', 'L')
l1.AddEntry(ttzllPV, 'TTZToLLNuNu', 'L')
l1.AddEntry(w3jetPVno, 'W+3jets_10-75', 'L')
l1.AddEntry(ttzllPVno, 'TTZToLLNuNu_10-75', 'L')

mctruthPV.SetLineColor(8)
w3jetPV.SetLineColor(2)
w3jetPVno.SetLineColor(2)

w3jetPV.SetLineStyle(2)
ttzllPV.SetLineStyle(2)

mctruthPV.SetLineWidth(2)
w3jetPV.SetLineWidth(2)
ttzllPV.SetLineWidth(2)
w3jetPVno.SetLineWidth(2)
ttzllPVno.SetLineWidth(2)

mctruthPV.SetStats(0)
mctruthPV.DrawNormalized("hist")
w3jetPV.DrawNormalized("hist same")
ttzllPV.DrawNormalized("hist same")
w3jetPVno.DrawNormalized("hist same")
ttzllPVno.DrawNormalized("hist same")

mctruthPV.DrawNormalized("hist same")
l1.Draw("same")
c1.Print('h_numPVs.pdf')
